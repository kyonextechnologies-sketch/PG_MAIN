(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5261],{51122:(e,s,t)=>{Promise.resolve().then(t.bind(t,70812))},70812:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var a=t(95155);t(12115);var r=t(5634),l=t(11829),n=t(86948),i=t(3998),o=t(72649),d=t(95740),c=t(71871),x=t(91169),m=t(91761),h=t(1524),u=t(78519),g=t(6132),p=t(64269),b=t(57760),j=t(52205),f=t(46713),N=t(74044),v=t(68796),y=t(56731),w=t(36489),A=t(52619),D=t.n(A);let R=[{name:"Jan",value:45e3,revenue:45e3,expenses:2e4,profit:25e3},{name:"Feb",value:52e3,revenue:52e3,expenses:22e3,profit:3e4},{name:"Mar",value:48e3,revenue:48e3,expenses:18e3,profit:3e4},{name:"Apr",value:61e3,revenue:61e3,expenses:25e3,profit:36e3},{name:"May",value:55e3,revenue:55e3,expenses:2e4,profit:35e3},{name:"Jun",value:67e3,revenue:67e3,expenses:28e3,profit:39e3}];function P(){var e;let{data:s}=(0,w.useSession)(),{properties:t}=(0,j.B)(),{tenants:A}=(0,f.x)(),{invoices:P}=(0,b.W)(),{tickets:Z}=(0,N.Y)(),{addNotification:E,setModalOpen:T}=(0,v.j)(),B=P.filter(e=>"PAID"===e.status).reduce((e,s)=>e+s.amount,0),O=P.filter(e=>"DUE"===e.status||"OVERDUE"===e.status).reduce((e,s)=>e+s.amount,0),W=t.reduce((e,s)=>e+(s.totalBeds||0),0),k=A.filter(e=>"ACTIVE"===e.status).length,I=W>0?Math.round(k/W*100):0,M=P.filter(e=>"PAID"===e.status).length,C=P.length,V=C>0?Math.round(M/C*100):0,U={open:Z.filter(e=>"OPEN"===e.status).length,inProgress:Z.filter(e=>"IN_PROGRESS"===e.status).length,resolved:Z.filter(e=>"RESOLVED"===e.status).length,highPriority:Z.filter(e=>"HIGH"===e.priority).length},S=t.map(e=>{let s=A.filter(s=>s.propertyId===e.id&&"ACTIVE"===s.status),t=e.totalBeds&&e.totalBeds>0?Math.round(s.length/e.totalBeds*100):0;return{name:e.name||"Property ".concat(e.id),value:t}}).filter(e=>e.name),_=e=>{E({type:"info",title:"Quick Action",message:"".concat(e," action triggered!"),read:!1})};return(0,a.jsx)(l.m8,{role:"OWNER",children:(0,a.jsxs)(r.O,{children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 bg-blue-200/20 rounded-full blur-xl animate-float"}),(0,a.jsx)("div",{className:"absolute top-40 right-20 w-24 h-24 bg-purple-200/20 rounded-full blur-xl animate-float-delay"}),(0,a.jsx)("div",{className:"absolute bottom-20 left-1/4 w-28 h-28 bg-green-200/20 rounded-full blur-xl animate-float-delay-2"}),(0,a.jsx)("div",{className:"absolute bottom-40 right-1/3 w-20 h-20 bg-pink-200/20 rounded-full blur-xl animate-float"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 w-40 h-40 bg-yellow-200/10 rounded-full blur-2xl animate-pulse"})]}),(0,a.jsxs)(y.P.div,{className:"space-y-8 relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,a.jsxs)(y.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-100 via-purple-100 to-pink-100 rounded-full shadow-lg border border-white/20",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-yellow-500 mr-2 animate-pulse"}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-800",children:"Property Management Dashboard"})]}),(0,a.jsx)("h1",{className:"text-4xl sm:text-5xl font-bold text-gray-900 bg-gradient-to-r from-gray-900 via-blue-900 to-purple-900 bg-clip-text text-transparent",children:"Owner Dashboard"}),(0,a.jsxs)("p",{className:"text-xl text-gray-800 max-w-2xl mx-auto font-semibold",children:["Welcome back, ",(0,a.jsx)("span",{className:"font-bold text-blue-800",children:null==s||null==(e=s.user)?void 0:e.name}),"! Here's what's happening with your properties."]})]}),(0,a.jsxs)(y.P.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,a.jsxs)(n.Zp,{className:"bg-gradient-to-br from-blue-50 to-blue-100 shadow-xl border-0 hover:shadow-2xl transition-all duration-300",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-bold text-blue-800",children:"Total Properties"}),(0,a.jsx)("div",{className:"p-2 bg-blue-500 rounded-lg",children:(0,a.jsx)(c.A,{className:"h-4 w-4 text-white"})})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-900",children:t.length}),(0,a.jsx)("p",{className:"text-sm text-blue-700 font-medium",children:"Active properties"})]})]}),(0,a.jsxs)(n.Zp,{className:"bg-gradient-to-br from-green-50 to-green-100 shadow-xl border-0 hover:shadow-2xl transition-all duration-300",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-bold text-green-800",children:"Total Tenants"}),(0,a.jsx)("div",{className:"p-2 bg-green-500 rounded-lg",children:(0,a.jsx)(x.A,{className:"h-4 w-4 text-white"})})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-900",children:A.length}),(0,a.jsx)("p",{className:"text-sm text-green-700 font-medium",children:"Active tenants"})]})]}),(0,a.jsxs)(n.Zp,{className:"bg-gradient-to-br from-purple-50 to-purple-100 shadow-xl border-0 hover:shadow-2xl transition-all duration-300",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-bold text-purple-800",children:"Monthly Revenue"}),(0,a.jsx)("div",{className:"p-2 bg-purple-500 rounded-lg",children:(0,a.jsx)(m.A,{className:"h-4 w-4 text-white"})})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-900",children:(0,p.vv)(B)}),(0,a.jsx)("p",{className:"text-sm text-purple-700 font-medium",children:"This month"})]})]}),(0,a.jsxs)(n.Zp,{className:"bg-gradient-to-br from-orange-50 to-orange-100 shadow-xl border-0 hover:shadow-2xl transition-all duration-300",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-bold text-orange-800",children:"Occupancy Rate"}),(0,a.jsx)("div",{className:"p-2 bg-orange-500 rounded-lg",children:(0,a.jsx)(h.A,{className:"h-4 w-4 text-white"})})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-orange-900",children:[I,"%"]}),(0,a.jsx)("p",{className:"text-sm text-orange-700 font-medium",children:"Average occupancy"})]})]})]}),(0,a.jsxs)(y.P.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,a.jsx)(D(),{href:"/owner/properties",children:(0,a.jsx)(n.Zp,{className:"bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-xl border-0",onClick:()=>_("Properties Management"),children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-500 rounded-xl",children:(0,a.jsx)(c.A,{className:"h-8 w-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-blue-900 text-lg",children:"Properties"}),(0,a.jsx)("p",{className:"text-sm text-blue-700 font-medium",children:"Manage properties"})]})]})})})}),(0,a.jsx)(D(),{href:"/owner/tenants",children:(0,a.jsx)(n.Zp,{className:"bg-gradient-to-br from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-xl border-0",onClick:()=>_("Tenants Management"),children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-3 bg-green-500 rounded-xl",children:(0,a.jsx)(x.A,{className:"h-8 w-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-green-900 text-lg",children:"Tenants"}),(0,a.jsx)("p",{className:"text-sm text-green-700 font-medium",children:"Manage tenants"})]})]})})})}),(0,a.jsx)(D(),{href:"/owner/billing",children:(0,a.jsx)(n.Zp,{className:"bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-xl border-0",onClick:()=>_("Billing Management"),children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-3 bg-purple-500 rounded-xl",children:(0,a.jsx)(u.A,{className:"h-8 w-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-purple-900 text-lg",children:"Billing"}),(0,a.jsx)("p",{className:"text-sm text-purple-700 font-medium",children:"Manage invoices"})]})]})})})}),(0,a.jsx)(D(),{href:"/owner/reports",children:(0,a.jsx)(n.Zp,{className:"bg-gradient-to-br from-orange-50 to-orange-100 hover:from-orange-100 hover:to-orange-200 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-xl border-0",onClick:()=>_("Reports & Analytics"),children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-3 bg-orange-500 rounded-xl",children:(0,a.jsx)(h.A,{className:"h-8 w-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-orange-900 text-lg",children:"Reports"}),(0,a.jsx)("p",{className:"text-sm text-orange-700 font-medium",children:"View analytics"})]})]})})})})]}),(0,a.jsxs)(y.P.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,a.jsxs)(n.Zp,{className:"bg-white shadow-xl border-0 hover:shadow-2xl transition-all duration-300",children:[(0,a.jsxs)(n.aR,{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-t-lg",children:[(0,a.jsx)(n.ZB,{className:"text-lg font-bold text-gray-900",children:"Recent Activity"}),(0,a.jsx)(n.BT,{className:"text-sm text-gray-600 font-medium",children:"Latest updates from your properties"})]}),(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[P.filter(e=>"PAID"===e.status).sort((e,s)=>new Date(s.updatedAt||"").getTime()-new Date(e.updatedAt||"").getTime()).slice(0,3).map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center shadow-md",children:(0,a.jsx)(u.A,{className:"h-5 w-5 text-blue-700"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:["Invoice ",e.month," Paid"]}),(0,a.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:(0,p.Yq)(e.paidAt||e.updatedAt||"")})]}),(0,a.jsx)("div",{className:"text-sm font-bold text-green-700 bg-green-100 px-2 py-1 rounded-full",children:(0,p.vv)(e.amount)})]},e.id)),Z.sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()).slice(0,2).map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-100 to-orange-200 rounded-full flex items-center justify-center shadow-md",children:(0,a.jsx)(g.A,{className:"h-5 w-5 text-orange-700"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:(0,p.Yq)(e.createdAt)})]}),(0,a.jsx)(i.$,{size:"sm",variant:"outline",className:"bg-blue-600 text-white border-blue-600 hover:bg-blue-700 hover:border-blue-700 font-semibold",onClick:()=>{var s;return s=e.id,void E({type:"success",title:"View Details",message:"Viewing ".concat("REQUEST"," details for ID: ").concat(s),read:!1})},children:"View"})]},e.id)),0===P.filter(e=>"PAID"===e.status).length&&0===Z.length&&(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No recent activity"})})]})})]}),(0,a.jsxs)(n.Zp,{className:"bg-white shadow-xl border-0 hover:shadow-2xl transition-all duration-300",children:[(0,a.jsxs)(n.aR,{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-t-lg",children:[(0,a.jsx)(n.ZB,{className:"text-lg font-bold text-gray-900",children:"Upcoming Dues"}),(0,a.jsx)(n.BT,{className:"text-sm text-gray-600 font-medium",children:"Tenants with pending payments"})]}),(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[P.filter(e=>"DUE"===e.status||"OVERDUE"===e.status).sort((e,s)=>new Date(e.dueDate).getTime()-new Date(s.dueDate).getTime()).slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg border border-orange-200 hover:shadow-md transition-all duration-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-bold text-gray-900 text-base",children:["Invoice ",e.month]}),(0,a.jsxs)("p",{className:"text-sm text-gray-700 font-medium",children:["Tenant ID: ",e.tenantId]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-bold text-red-700 text-lg",children:(0,p.vv)(e.amount)}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 font-medium",children:["Due: ",(0,p.Yq)(e.dueDate)]})]}),(0,a.jsx)(i.$,{size:"sm",className:"bg-orange-600 text-white hover:bg-orange-700 font-semibold shadow-md",onClick:()=>{E({type:"info",title:"Send Reminder",message:"Sending payment reminder for invoice ".concat(e.month),read:!1})},children:"Remind"})]})]},e.id)),0===P.filter(e=>"DUE"===e.status||"OVERDUE"===e.status).length&&(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-green-600 text-sm font-semibold",children:"\uD83C\uDF89 All invoices are paid! No pending dues."})})]})})]})]}),(0,a.jsxs)(y.P.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:[(0,a.jsxs)(n.Zp,{className:"bg-gradient-to-br from-red-50 to-red-100 shadow-xl border-0 hover:shadow-2xl transition-all duration-300",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-bold text-red-800",children:"Outstanding Dues"}),(0,a.jsx)("div",{className:"p-2 bg-red-500 rounded-lg",children:(0,a.jsx)(g.A,{className:"h-4 w-4 text-white"})})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-red-900",children:(0,p.vv)(O)}),(0,a.jsx)("p",{className:"text-sm text-red-700 font-medium",children:"Pending payments"})]})]}),(0,a.jsxs)(n.Zp,{className:"bg-gradient-to-br from-orange-50 to-orange-100 shadow-xl border-0 hover:shadow-2xl transition-all duration-300",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-bold text-orange-800",children:"Maintenance Requests"}),(0,a.jsx)("div",{className:"p-2 bg-orange-500 rounded-lg",children:(0,a.jsx)(g.A,{className:"h-4 w-4 text-white"})})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-orange-900",children:U.open}),(0,a.jsx)("p",{className:"text-sm text-orange-700 font-medium",children:"Open requests"})]})]}),(0,a.jsxs)(n.Zp,{className:"bg-gradient-to-br from-green-50 to-green-100 shadow-xl border-0 hover:shadow-2xl transition-all duration-300",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-bold text-green-800",children:"Revenue Growth"}),(0,a.jsx)("div",{className:"p-2 bg-green-500 rounded-lg",children:(0,a.jsx)(h.A,{className:"h-4 w-4 text-white"})})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-green-900",children:["+",V,"%"]}),(0,a.jsx)("p",{className:"text-sm text-green-700 font-medium",children:"vs last month"})]})]})]}),(0,a.jsxs)(y.P.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[(0,a.jsx)(o.Il,{data:R,title:"Revenue Trend",description:"Monthly revenue over time"}),(0,a.jsx)(o.km,{data:S,title:"Property Occupancy",description:"Occupancy rates by property"})]})]})]})})}}},e=>{e.O(0,[8779,8405,9420,4939,1486,9290,622,1097,2432,7979,1899,4450,9744,2322,433,2652,3494,2574,2903,9173,558,1356,309,4191,2834,957,6691,1151,9473,1172,7650,3976,6292,5848,8861,2076,7358],()=>e(e.s=51122)),_N_E=e.O()}]);