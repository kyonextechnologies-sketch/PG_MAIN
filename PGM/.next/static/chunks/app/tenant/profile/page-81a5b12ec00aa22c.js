(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9337],{21402:(e,a,s)=>{Promise.resolve().then(s.bind(s,50718))},50718:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>P});var r=s(95155),t=s(12115),l=s(5634),o=s(11829),n=s(86948),d=s(3998),i=s(65142),c=s(76444),m=s(11647),u=s(13406),x=s(42529),g=s(6132),h=s(35299),b=s(11010),f=s(46046),p=s(20508),y=s(89715),j=s(65993),v=s(64269),N=s(68796),w=s(59423),C=s(36489),k=s(75155);function P(){var e;let[a,s]=(0,t.useState)({id:"",name:"",email:"",phone:"",property:"",room:"",bed:"",moveInDate:"",kycStatus:"",emergencyContact:"",address:""}),[P,S]=(0,t.useState)(!1),[A,E]=(0,t.useState)(!1),[R,D]=(0,t.useState)({type:null,message:""}),{addNotification:T}=(0,N.j)(),{data:F}=(0,C.useSession)();t.useEffect(()=>{(async()=>{var e,a,r,t;if(null==F||null==(e=F.user)?void 0:e.id)try{E(!0);let e=await k.u.get("/tenants/profile/me");if(e.success&&e.data){let l=e.data;s({id:l.id||"",name:l.name||"",email:l.email||"",phone:l.phone||"",property:(null==(a=l.property)?void 0:a.name)||"",room:(null==(r=l.room)?void 0:r.roomNumber)||"",bed:(null==(t=l.bed)?void 0:t.bedNumber)||"",moveInDate:l.moveInDate||"",kycStatus:l.kycStatus||"",emergencyContact:l.emergencyContact||"",address:l.address||""})}}catch(a){let e=localStorage.getItem("tenantProfile");e&&s(JSON.parse(e))}finally{E(!1)}})()},[null==F||null==(e=F.user)?void 0:e.id,T]);let I=async()=>{E(!0),D({type:null,message:""});try{if(!a.name.trim()||!a.email.trim())throw Error("Name and email are required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email))throw Error("Please enter a valid email address");let e=/^\+?[\d\s-()]+$/;if(!e.test(a.phone))throw Error("Please enter a valid phone number");if(!e.test(a.emergencyContact))throw Error("Please enter a valid emergency contact number");localStorage.setItem("tenantProfile",JSON.stringify(a)),D({type:"success",message:"Profile updated successfully!"}),w.Rk.update.success("Profile"),T({type:"success",title:"Profile Updated",message:"Your profile has been updated successfully!",read:!1}),S(!1),setTimeout(()=>{D({type:null,message:""})},3e3)}catch(e){D({type:"error",message:e instanceof Error?e.message:"Failed to save profile"}),T({type:"error",title:"Save Failed",message:e instanceof Error?e.message:"Failed to save profile",read:!1})}finally{E(!1)}};return(0,r.jsx)(o.m8,{role:"TENANT",children:(0,r.jsx)(l.O,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[R.type&&(0,r.jsx)("div",{className:"p-4 rounded-lg border ".concat("success"===R.type?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"),children:(0,r.jsxs)("div",{className:"flex items-center",children:["success"===R.type?(0,r.jsx)(x.A,{className:"h-5 w-5 mr-2"}):(0,r.jsx)(g.A,{className:"h-5 w-5 mr-2"}),R.message]})}),A&&(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,r.jsx)(h.A,{className:"h-8 w-8 animate-spin text-blue-600 mr-3"}),(0,r.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading your profile..."})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile"}),(0,r.jsx)("p",{className:"text-gray-700 font-semibold",children:"Manage your personal information and documents"})]}),(0,r.jsx)("div",{className:"flex space-x-2",children:P?(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(d.$,{onClick:I,disabled:A,className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),A?"Saving...":"Save Changes"]}),(0,r.jsx)(d.$,{variant:"outline",onClick:()=>S(!1),className:"border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400 font-semibold",children:"Cancel"})]}):(0,r.jsxs)(d.$,{onClick:()=>S(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:[(0,r.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Edit Profile"]})})]}),(0,r.jsxs)(u.tU,{defaultValue:"personal",className:"space-y-6",children:[(0,r.jsxs)(u.j7,{className:"grid w-full grid-cols-3 bg-gradient-to-r from-gray-100 to-gray-200 p-1 rounded-xl shadow-lg",children:[(0,r.jsx)(u.Xi,{value:"personal",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg font-semibold transition-all duration-300",children:"Personal Info"}),(0,r.jsx)(u.Xi,{value:"documents",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-blue-500 data-[state=active]:text-white data-[state=active]:shadow-lg font-semibold transition-all duration-300",children:"KYC Documents"}),(0,r.jsx)(u.Xi,{value:"accommodation",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white data-[state=active]:shadow-lg font-semibold transition-all duration-300",children:"Accommodation"})]}),(0,r.jsx)(u.av,{value:"personal",children:(0,r.jsxs)(n.Zp,{className:"bg-white shadow-xl border-0 hover:shadow-2xl transition-all duration-300",children:[(0,r.jsxs)(n.aR,{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-t-lg",children:[(0,r.jsxs)(n.ZB,{className:"flex items-center text-lg font-bold text-gray-900",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-500 rounded-lg mr-3",children:(0,r.jsx)(p.A,{className:"h-5 w-5 text-white"})}),"Personal Information"]}),(0,r.jsx)(n.BT,{className:"text-sm text-gray-600 font-semibold",children:"Update your personal details and contact information"})]}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"name",className:"text-gray-700 font-semibold",children:"Full Name"}),(0,r.jsx)(i.p,{id:"name",value:a.name,onChange:e=>s({...a,name:e.target.value}),disabled:!P,className:" text-black bg-gradient-to-r from-gray-50 to-blue-50 border-2 transition-all duration-300 ".concat(P?"border-blue-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200":"border-gray-200"," rounded-xl font-medium")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"email",className:"text-gray-700 font-semibold",children:"Email"}),(0,r.jsx)(i.p,{id:"email",type:"email",value:a.email,onChange:e=>s({...a,email:e.target.value}),disabled:!P,className:"text-black bg-gradient-to-r from-gray-50 to-blue-50 border-2 transition-all duration-300 ".concat(P?"border-blue-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200":"border-gray-200"," rounded-xl font-medium")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"phone",className:"text-gray-700 font-semibold",children:"Phone"}),(0,r.jsx)(i.p,{id:"phone",value:a.phone,onChange:e=>s({...a,phone:e.target.value}),disabled:!P,className:"text-black bg-gradient-to-r from-gray-50 to-blue-50 border-2 transition-all duration-300 ".concat(P?"border-blue-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200":"border-gray-200"," rounded-xl font-medium")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"emergencyContact",className:"text-gray-700 font-semibold",children:"Emergency Contact"}),(0,r.jsx)(i.p,{id:"emergencyContact",value:a.emergencyContact,onChange:e=>s({...a,emergencyContact:e.target.value}),disabled:!P,className:"text-black bg-gradient-to-r from-gray-50 to-blue-50 border-2 transition-all duration-300 ".concat(P?"border-blue-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200":"border-gray-200"," rounded-xl font-medium")})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"address",className:"text-gray-700 font-semibold",children:"Address"}),(0,r.jsx)(i.p,{id:"address",value:a.address,onChange:e=>s({...a,address:e.target.value}),disabled:!P,className:"text-black bg-white border-1 transition-all duration-300 ".concat(P?"border-blue-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200":"border-gray-200"," rounded-xl font-medium")})]})]})]})}),(0,r.jsx)(u.av,{value:"documents",children:(0,r.jsxs)(n.Zp,{className:"bg-white shadow-xl border-0 hover:shadow-2xl transition-all duration-300",children:[(0,r.jsxs)(n.aR,{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-t-lg",children:[(0,r.jsxs)(n.ZB,{className:"flex items-center text-lg font-bold text-gray-900",children:[(0,r.jsx)("div",{className:"p-2 bg-green-500 rounded-lg mr-3",children:(0,r.jsx)(y.A,{className:"h-5 w-5 text-white"})}),"KYC Documents"]}),(0,r.jsx)(n.BT,{className:"text-sm text-gray-600 font-semibold",children:"Upload and manage your identity documents"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"space-y-4"}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Required Documents"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,r.jsx)("li",{children:"• Aadhaar Card (Government ID)"}),(0,r.jsx)("li",{children:"• PAN Card (Tax ID)"}),(0,r.jsx)("li",{children:"• Bank Statement (Last 3 months)"}),(0,r.jsx)("li",{children:"• Passport size photo"})]})]})]})]})}),(0,r.jsx)(u.av,{value:"accommodation",children:(0,r.jsxs)(n.Zp,{className:"bg-white shadow-xl border-0 hover:shadow-2xl transition-all duration-300",children:[(0,r.jsxs)(n.aR,{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-lg",children:[(0,r.jsxs)(n.ZB,{className:"flex items-center text-lg font-bold text-gray-900",children:[(0,r.jsx)("div",{className:"p-2 bg-purple-500 rounded-lg mr-3",children:(0,r.jsx)(j.A,{className:"h-5 w-5 text-white"})}),"Accommodation Details"]}),(0,r.jsx)(n.BT,{className:"text-sm text-gray-600 font-semibold",children:"Your current room and property information"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[(0,r.jsx)("h4",{className:"font-bold text-gray-900 mb-4 text-lg",children:"Current Allocation"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-purple-100",children:[(0,r.jsx)("span",{className:"text-gray-700 font-semibold",children:"Property:"}),(0,r.jsx)("span",{className:"font-bold text-purple-800",children:a.property})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-purple-100",children:[(0,r.jsx)("span",{className:"text-gray-700 font-semibold",children:"Room:"}),(0,r.jsx)("span",{className:"font-bold text-purple-800",children:a.room})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-purple-100",children:[(0,r.jsx)("span",{className:"text-gray-700 font-semibold",children:"Bed:"}),(0,r.jsx)("span",{className:"font-bold text-purple-800",children:a.bed})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,r.jsx)("span",{className:"text-gray-700 font-semibold",children:"Move-in Date:"}),(0,r.jsx)("span",{className:"font-bold text-purple-800",children:(0,v.Yq)(a.moveInDate)})]})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-6 border border-blue-200",children:[(0,r.jsx)("h4",{className:"font-bold text-gray-900 mb-4 text-lg",children:"Property Amenities"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:["WiFi","AC","Parking","Security","CCTV"].map(e=>(0,r.jsx)(m.E,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-semibold px-4 py-2 rounded-full shadow-md hover:shadow-lg transition-all duration-300",children:e},e))})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-6 border border-orange-200",children:[(0,r.jsx)("h4",{className:"font-bold text-gray-900 mb-4 text-lg",children:"Room Transfer Request"}),(0,r.jsx)("p",{className:"text-sm text-gray-700 font-medium mb-4",children:"Need to change your room? Submit a transfer request."}),(0,r.jsx)(d.$,{className:"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>{T({type:"info",title:"Room Transfer Request",message:"Your room transfer request has been submitted!",read:!1})},children:"Request Room Transfer"})]})]})})]})})]})]})})})}}},e=>{e.O(0,[8779,8405,9420,4939,1486,9290,622,1097,2432,7979,1899,4450,9744,2322,433,2652,3494,2574,2903,9173,558,1356,309,4191,2834,957,6691,1151,9473,1172,7650,3976,6292,5848,8861,2076,7358],()=>e(e.s=21402)),_N_E=e.O()}]);