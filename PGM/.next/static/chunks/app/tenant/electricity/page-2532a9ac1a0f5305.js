(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2645],{28126:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var a=t(95155),l=t(12115),i=t(5634),r=t(11829),n=t(86948),c=t(3998),d=t(65142),o=t(76444),x=t(95740),m=t(56154),u=t(95664),h=t(21786),g=t(71360),p=t(42529),j=t(89559),b=t(57828),N=t(80647),y=t(89715),v=t(56731),f=t(68796);function w(){let{addNotification:e}=(0,f.j)(),[s,t]=(0,l.useState)(null),[w,R]=(0,l.useState)(null),[k,A]=(0,l.useState)(null),[C,E]=(0,l.useState)(!1),[B,S]=(0,l.useState)(""),[P,F]=(0,l.useState)(""),M=(0,l.useRef)(null),T=async()=>{s&&(E(!0),setTimeout(()=>{let s=Math.floor(1e3*Math.random())+1400;A(s),S(s.toString()),E(!1),e({type:"success",title:"Reading Extracted",message:"Meter reading extracted: ".concat(s," units"),read:!1})},2e3))};return(0,a.jsx)(r.m8,{role:"TENANT",children:(0,a.jsxs)(i.O,{children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 bg-blue-200/20 rounded-full blur-xl animate-float"}),(0,a.jsx)("div",{className:"absolute top-40 right-20 w-24 h-24 bg-purple-200/20 rounded-full blur-xl animate-float-delay"}),(0,a.jsx)("div",{className:"absolute bottom-20 left-1/4 w-28 h-28 bg-green-200/20 rounded-full blur-xl animate-float-delay-2"}),(0,a.jsx)("div",{className:"absolute bottom-40 right-1/3 w-20 h-20 bg-pink-200/20 rounded-full blur-xl animate-float"})]}),(0,a.jsxs)("div",{className:"relative space-y-8",children:[(0,a.jsxs)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-100 via-purple-100 to-pink-100 rounded-full shadow-lg",children:[(0,a.jsx)(x.A,{className:"h-5 w-5 text-yellow-500 mr-2 animate-pulse"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Electricity Bill Management"})]}),(0,a.jsx)("h1",{className:"text-4xl sm:text-5xl font-bold text-gray-900",children:"Electricity Bills"}),(0,a.jsx)("p",{className:"text-xl text-gray-800 max-w-2xl mx-auto font-semibold",children:"Submit your meter reading and manage electricity bills"})]}),(0,a.jsx)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:(0,a.jsxs)(n.Zp,{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border-0 shadow-xl",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(m.A,{className:"h-6 w-6 text-blue-600 mr-2"}),"Current Electricity Settings"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-white/80 rounded-xl",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:"Rate per Unit"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"₹8"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-white/80 rounded-xl",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:"Last Reading"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"N/A"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-white/80 rounded-xl",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:"Due Date"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:"N/A"})]})]})})]})}),(0,a.jsx)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:(0,a.jsxs)(n.Zp,{className:"bg-gradient-to-br from-green-50 to-emerald-100 border-0 shadow-xl",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(u.A,{className:"h-6 w-6 text-green-600 mr-2"}),"Submit New Meter Reading"]}),(0,a.jsx)(n.BT,{children:"Upload a photo of your electricity meter to automatically extract the reading"})]}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,a.jsxs)(c.$,{onClick:()=>{var e;null==(e=M.current)||e.click()},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 mr-2"}),"Take Photo"]}),(0,a.jsx)("input",{ref:M,type:"file",accept:"image/*",onChange:e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(a){t(a);let e=new FileReader;e.onload=e=>{var s;R(null==(s=e.target)?void 0:s.result)},e.readAsDataURL(a)}},className:"hidden"}),(0,a.jsxs)(c.$,{variant:"outline",onClick:()=>{var e;return null==(e=M.current)?void 0:e.click()},className:"px-6 py-3",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 mr-2"}),"Upload Image"]})]}),w&&(0,a.jsxs)(v.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:w,alt:"Meter reading",className:"w-full h-64 object-cover rounded-xl shadow-lg"}),(0,a.jsx)(c.$,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>{t(null),R(null),A(null),S("")},children:(0,a.jsx)(g.A,{className:"h-4 w-4"})})]}),k&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-green-100 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsxs)("span",{className:"font-semibold text-green-800",children:["Extracted Reading: ",k]})]})}),(0,a.jsx)("div",{className:"mt-4 flex justify-center",children:(0,a.jsx)(c.$,{onClick:T,disabled:C,className:"bg-green-600 hover:bg-green-700 text-white",children:C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Extract Reading"]})})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"previousReading",children:"Previous Reading"}),(0,a.jsx)(d.p,{id:"previousReading",type:"number",placeholder:"Enter previous reading",value:P,onChange:e=>F(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"currentReading",children:"Current Reading"}),(0,a.jsx)(d.p,{id:"currentReading",type:"number",placeholder:"Enter current reading",value:B,onChange:e=>S(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsxs)(c.$,{onClick:()=>{let s=parseFloat(B),t=parseFloat(P);if(isNaN(s)||isNaN(t))return void e({type:"error",title:"Invalid Reading",message:"Please enter valid meter readings",read:!1});let a=s-t,l=8*a;if(a<0)return void e({type:"error",title:"Invalid Reading",message:"Current reading cannot be less than previous reading",read:!1});e({type:"success",title:"Bill Calculated",message:"".concat(a," units \xd7 ₹").concat(l.toFixed(2)," = ₹").concat(l.toFixed(2)),read:!1})},variant:"outline",className:"px-6 py-3",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Calculate Bill"]}),(0,a.jsxs)(c.$,{onClick:()=>{if(!B||!P)return void e({type:"error",title:"Missing Information",message:"Please enter both current and previous readings",read:!1});e({type:"success",title:"Bill Submitted",message:"Electricity bill submitted successfully!",read:!1}),t(null),R(null),A(null),S(""),F("")},className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Submit Bill"]})]})]})]})}),(0,a.jsx)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:(0,a.jsxs)(n.Zp,{className:"bg-gradient-to-br from-purple-50 to-pink-100 border-0 shadow-xl",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(y.A,{className:"h-6 w-6 text-purple-600 mr-2"}),"Bill History"]}),(0,a.jsx)(n.BT,{children:"Your electricity bill submission history"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4"})})]})})]})]})})}},38630:(e,s,t)=>{Promise.resolve().then(t.bind(t,28126))}},e=>{e.O(0,[8779,8405,9420,4939,1486,9290,622,1097,2432,7979,1899,4450,9744,2322,433,2652,3494,2574,2903,9173,558,1356,309,4191,2834,957,6691,1151,9473,1172,7650,3976,6292,5848,8861,2076,7358],()=>e(e.s=38630)),_N_E=e.O()}]);