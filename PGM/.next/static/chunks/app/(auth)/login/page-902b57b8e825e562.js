(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{41237:(e,a,s)=>{Promise.resolve().then(s.bind(s,44697))},44697:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>T});var t=s(95155),i=s(12115),r=s(36489),l=s(20063),n=s(22544),c=s(66942),o=s(38723),d=s(3998),m=s(65142),x=s(76444),p=s(86948),u=s(18332),h=s(71871),y=s(91169),g=s(78519),j=s(80534),b=s(17910),N=s(99708),f=s(23664),v=s(35299),w=s(52987),P=s(56731),k=s(54982),A=s(65229),S=s(42529),E=s(35626);function C(e){let{isOpen:a,onClose:s}=e,[r,l]=(0,i.useState)(""),[n,c]=(0,i.useState)(!1),[o,p]=(0,i.useState)(""),[h,y]=(0,i.useState)(!1),g=async e=>{e.preventDefault(),c(!0),p("");try{let e=await fetch("".concat("http://localhost:5000/api/v1","/auth/forgot-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.toLowerCase().trim()})}),a=await e.json();if(!e.ok)throw Error(a.message||"Failed to send reset email");y(!0)}catch(e){p(e instanceof Error?e.message:"Failed to send reset email")}finally{c(!1)}},j=()=>{l(""),p(""),y(!1),s()};return a?(0,t.jsx)(P.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",suppressHydrationWarning:!0,children:(0,t.jsxs)(P.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},className:"bg-white rounded-2xl shadow-xl max-w-md w-full",children:[(0,t.jsx)("button",{onClick:j,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:(0,t.jsx)(A.A,{className:"w-5 h-5"})}),h?(0,t.jsxs)("div",{className:"text-center space-y-4 p-8",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(S.A,{className:"w-8 h-8 text-green-600"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Check Your Email"}),(0,t.jsxs)("p",{className:"text-gray-600 mt-2",children:["We've sent a password reset link to ",(0,t.jsx)("span",{className:"font-medium",children:r}),". Please check your email and click the link to reset your password."]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 space-y-2 bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("p",{children:"• The link will expire in 1 hour for security"}),(0,t.jsx)("p",{children:"• Check your spam folder if you don't see it"})]}),(0,t.jsx)(d.$,{onClick:j,className:"w-full bg-green-600 hover:bg-green-700",children:"Back to Login"})]}):(0,t.jsxs)("div",{className:"p-8 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Forgot Password?"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Enter your email and we'll send you a link to reset your password"})]}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[o&&(0,t.jsx)(u.Fc,{variant:"destructive",className:"border-red-200 bg-red-50",children:(0,t.jsx)(u.TN,{className:"text-red-700",children:o})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.J,{htmlFor:"reset-email",className:"text-sm font-medium",children:"Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsx)(m.p,{id:"reset-email",type:"email",placeholder:"Enter your email",value:r,onChange:e=>l(e.target.value),className:"pl-10 h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,t.jsxs)(d.$,{type:"button",variant:"outline",className:"flex-1",onClick:j,disabled:n,children:[(0,t.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,t.jsx)(d.$,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:n||!r,children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Send Link"]})})]})]})]})]})}):null}var F=s(52619),W=s.n(F);function T(){let[e,a]=(0,i.useState)(!1),[s,A]=(0,i.useState)(""),[S,E]=(0,i.useState)(!1),F=(0,l.useRouter)(),{register:T,handleSubmit:H,formState:{errors:O}}=(0,n.mN)({resolver:(0,c.u)(o.X5)}),B=async e=>{a(!0),A("");try{var s,t;let a=await (0,r.signIn)("credentials",{email:e.email,password:e.password,redirect:!1});if(null==a?void 0:a.error)return void A("Invalid credentials");let i=await (0,r.getSession)();(null==i||null==(s=i.user)?void 0:s.role)==="OWNER"?F.push("/owner/dashboard"):(null==i||null==(t=i.user)?void 0:t.role)==="TENANT"&&F.push("/tenant/dashboard")}catch(e){A("An error occurred. Please try again.")}finally{a(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",suppressHydrationWarning:!0,children:[(0,t.jsx)(k.o,{variant:"login"}),(0,t.jsx)("div",{className:"relative z-10 min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-6xl w-full grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,t.jsxs)(P.P.div,{className:"text-center lg:text-left space-y-8",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},suppressHydrationWarning:!0,children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(P.P.div,{className:"flex items-center justify-center lg:justify-start space-x-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.A,{className:"w-12 h-12 text-blue-600"}),(0,t.jsx)(P.P.div,{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]}),(0,t.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Smart PG Manager"})]}),(0,t.jsx)(P.P.h2,{className:"text-3xl lg:text-4xl font-bold text-gray-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:"Welcome Back!"}),(0,t.jsx)(P.P.p,{className:"text-lg text-gray-600 max-w-md mx-auto lg:mx-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:"Sign in to access your dashboard and manage your PG properties efficiently."})]}),(0,t.jsx)(P.P.div,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:[{icon:y.A,text:"Manage Tenants"},{icon:g.A,text:"Billing & Payments"},{icon:j.A,text:"Analytics & Reports"},{icon:b.A,text:"Secure & Reliable"}].map((e,a)=>(0,t.jsxs)(P.P.div,{className:"flex items-center space-x-3 p-3 bg-white/50 backdrop-blur-sm rounded-xl border border-white/20",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.6+.1*a},whileHover:{scale:1.05,x:5},children:[(0,t.jsx)(e.icon,{className:"w-5 h-5 text-blue-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.text})]},a))})]}),(0,t.jsx)(P.P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"flex justify-center",suppressHydrationWarning:!0,children:(0,t.jsxs)(p.Zp,{className:"w-full max-w-md bg-white/80 backdrop-blur-md border-0 shadow-2xl",children:[(0,t.jsxs)(p.aR,{className:"text-center pb-8",children:[(0,t.jsx)(P.P.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.4},className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(N.A,{className:"w-8 h-8 text-white"})}),(0,t.jsx)(p.ZB,{className:"text-2xl font-bold text-gray-900",children:"Sign In"}),(0,t.jsx)(p.BT,{className:"text-gray-600",children:"Enter your credentials to access your account"})]}),(0,t.jsxs)(p.Wu,{className:"space-y-6",children:[(0,t.jsxs)("form",{onSubmit:H(B),className:"space-y-6",children:[s&&(0,t.jsx)(P.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:(0,t.jsx)(u.Fc,{variant:"destructive",className:"border-red-200 bg-red-50",children:(0,t.jsx)(u.TN,{className:"text-red-700",children:s})})}),(0,t.jsxs)(P.P.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:[(0,t.jsx)(x.J,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsx)(m.p,{id:"email",type:"email",placeholder:"Enter your email",...T("email"),className:"pl-10 h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500 ".concat(O.email?"border-red-500":"")})]}),O.email&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:O.email.message})]}),(0,t.jsxs)(P.P.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.7},children:[(0,t.jsx)(x.J,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(N.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsx)(m.p,{id:"password",type:"password",placeholder:"Enter your password",...T("password"),className:"pl-10 pr-10 h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500 ".concat(O.password?"border-red-500":"")})]}),O.password&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:O.password.message})]}),(0,t.jsxs)(P.P.div,{className:"flex items-center justify-between",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.75},children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Remember me"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>E(!0),suppressHydrationWarning:!0,className:"text-sm text-blue-600 hover:text-blue-500 font-medium transition-colors",children:"Forgot password?"})]}),(0,t.jsx)(P.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.8},children:(0,t.jsx)(d.$,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-xl transition-all duration-300 hover:scale-105 disabled:opacity-50",disabled:e,suppressHydrationWarning:!0,children:e?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(v.A,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{children:"Signing in..."})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:"Sign In"}),(0,t.jsx)(w.A,{className:"w-4 h-4"})]})})})]}),(0,t.jsx)(P.P.div,{className:"text-center space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.9},children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,t.jsx)(W(),{href:"/register",className:"text-blue-600 hover:text-blue-500 font-medium transition-colors",children:"Create Owner Account"})]})})]})]})})]})}),(0,t.jsx)(C,{isOpen:S,onClose:()=>E(!1)})]})}}},e=>{e.O(0,[5848,8861,8779,8405,9420,4939,1486,9290,622,1097,2432,7979,1899,4450,9744,2322,433,2652,3494,2574,2903,9173,558,1356,309,4191,2834,957,6691,1151,9473,1172,7650,3976,6292,2076,7358],()=>e(e.s=41237)),_N_E=e.O()}]);