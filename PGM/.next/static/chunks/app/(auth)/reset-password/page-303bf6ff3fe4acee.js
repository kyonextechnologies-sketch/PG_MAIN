(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3180],{25425:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>A});var t=a(95155),r=a(12115),i=a(20063),n=a(22544),o=a(66942),l=a(41508),c=a(3998),d=a(65142),m=a(76444),x=a(86948),h=a(18332),p=a(42529),w=a(99708),u=a(52056),y=a(70532),j=a(57828),f=a(35299),g=a(52987),N=a(56731),b=a(54982),v=a(52619),P=a.n(v);let k=l.Ikc({password:l.YjP().min(6,"Password must be at least 6 characters"),confirmPassword:l.YjP().min(6,"Password must be at least 6 characters")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function A(){let e=(0,i.useRouter)(),s=(0,i.useSearchParams)().get("token"),[a,l]=(0,r.useState)(!1),[v,A]=(0,r.useState)(""),[S,E]=(0,r.useState)(!1),[R,C]=(0,r.useState)(!1),[F,T]=(0,r.useState)(!1),{register:_,handleSubmit:B,formState:{errors:I}}=(0,n.mN)({resolver:(0,o.u)(k)});(0,r.useEffect)(()=>{s||A("Invalid or missing reset token. Please request a new password reset link.")},[s]);let O=async a=>{if(!s)return void A("Invalid token");l(!0),A("");try{let t=await fetch("".concat("http://localhost:5000/api/v1","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,newPassword:a.password})}),r=await t.json();if(!t.ok)throw Error(r.message||"Failed to reset password");E(!0),setTimeout(()=>{e.push("/login")},2e3)}catch(e){A(e instanceof Error?e.message:"Failed to reset password")}finally{l(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-green-50 via-blue-50 to-indigo-50",suppressHydrationWarning:!0,children:[(0,t.jsx)(b.o,{variant:"login"}),(0,t.jsx)("div",{className:"relative z-10 min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsx)(N.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"max-w-md w-full",children:S?(0,t.jsx)(x.Zp,{className:"bg-white/80 backdrop-blur-md border-0 shadow-2xl",children:(0,t.jsxs)(x.Wu,{className:"pt-8 text-center space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(p.A,{className:"w-10 h-10 text-green-600"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Password Reset Successful!"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Your password has been reset. You can now login with your new password."}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Redirecting to login..."})]})}):(0,t.jsxs)(x.Zp,{className:"bg-white/80 backdrop-blur-md border-0 shadow-2xl",children:[(0,t.jsxs)(x.aR,{className:"text-center pb-8",children:[(0,t.jsx)(N.P.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2},className:"w-16 h-16 bg-gradient-to-r from-green-600 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(w.A,{className:"w-8 h-8 text-white"})}),(0,t.jsx)(x.ZB,{className:"text-2xl font-bold text-gray-900",children:"Reset Password"}),(0,t.jsx)(x.BT,{className:"text-gray-600",children:"Enter your new password below"})]}),(0,t.jsxs)(x.Wu,{className:"space-y-6",children:[s?(0,t.jsxs)("form",{onSubmit:B(O),className:"space-y-4",children:[v&&(0,t.jsx)(N.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:(0,t.jsxs)(h.Fc,{variant:"destructive",className:"border-red-200 bg-red-50",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)(h.TN,{className:"text-red-700",children:v})]})}),(0,t.jsxs)(N.P.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[(0,t.jsx)(m.J,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(w.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsx)(d.p,{id:"password",type:R?"text":"password",placeholder:"Enter new password",..._("password"),className:"pl-10 pr-10 h-12 border-gray-200 focus:border-green-500 focus:ring-green-500 ".concat(I.password?"border-red-500":"")}),(0,t.jsx)("button",{type:"button",onClick:()=>C(!R),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:R?(0,t.jsx)(y.A,{className:"w-4 h-4"}):(0,t.jsx)(j.A,{className:"w-4 h-4"})})]}),I.password&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:I.password.message})]}),(0,t.jsxs)(N.P.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[(0,t.jsx)(m.J,{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(w.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsx)(d.p,{id:"confirmPassword",type:F?"text":"password",placeholder:"Confirm new password",..._("confirmPassword"),className:"pl-10 pr-10 h-12 border-gray-200 focus:border-green-500 focus:ring-green-500 ".concat(I.confirmPassword?"border-red-500":"")}),(0,t.jsx)("button",{type:"button",onClick:()=>T(!F),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:F?(0,t.jsx)(y.A,{className:"w-4 h-4"}):(0,t.jsx)(j.A,{className:"w-4 h-4"})})]}),I.confirmPassword&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:I.confirmPassword.message})]}),(0,t.jsx)(N.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:(0,t.jsx)(c.$,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-300 hover:scale-105 disabled:opacity-50",disabled:a,children:a?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.A,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{children:"Resetting..."})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:"Reset Password"}),(0,t.jsx)(g.A,{className:"w-4 h-4"})]})})}),(0,t.jsx)(N.P.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.6},children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",(0,t.jsx)(P(),{href:"/login",className:"text-green-600 hover:text-green-500 font-medium transition-colors",children:"Back to login"})]})})]}):(0,t.jsxs)(h.Fc,{variant:"destructive",className:"border-red-200 bg-red-50",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)(h.TN,{className:"text-red-700",children:"Invalid or missing reset token. Please request a new password reset link."})]}),!s&&(0,t.jsx)(P(),{href:"/login",className:"block",children:(0,t.jsx)(c.$,{variant:"outline",className:"w-full",children:"Back to Login"})})]})]})})})]})}},37237:(e,s,a)=>{Promise.resolve().then(a.bind(a,25425))}},e=>{e.O(0,[5848,8861,8779,8405,9420,4939,1486,9290,622,1097,2432,7979,1899,4450,9744,2322,433,2652,3494,2574,2903,9173,558,1356,309,4191,2834,957,6691,1151,9473,1172,7650,3976,6292,2076,7358],()=>e(e.s=37237)),_N_E=e.O()}]);